<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Vaayu Saathi - Real-time air quality monitoring and forecasting for Delhi NCR">
    <meta name="keywords" content="AQI, air quality, pollution, Delhi, health, forecasting">
    <title>Vaayu Saathi | Air Quality Dashboard</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Outfit:wght@700;800&display=swap"
        rel="stylesheet">



    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/new-features.css">
    <link rel="stylesheet" href="css/policy-simulator.css">
    <link rel="stylesheet" href="css/health-forecast.css">
    <link rel="stylesheet" href="css/route-planner.css">
</head>

<body>
    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <div class="logo-icon">üå¨Ô∏è</div>
                <div class="logo-text">
                    <h2>Vaayu Saathi</h2>
                    <p>Air Quality Intelligence</p>
                </div>
            </div>
        </div>

        <nav class="sidebar-nav">
            <a href="#dashboard" class="nav-item active" data-page="dashboard">
                <span class="nav-icon">üìä</span>
                <span class="nav-text">Dashboard</span>
            </a>

            <a href="#forecasting" class="nav-item" data-page="forecasting">
                <span class="nav-icon">üìà</span>
                <span class="nav-text">Forecasting</span>
            </a>
            <a href="#health" class="nav-item" data-page="health">
                <span class="nav-icon">üè•</span>
                <span class="nav-text">Health Insights</span>
            </a>
            <a href="#policy" class="nav-item" data-page="policy">
                <span class="nav-icon">‚öñÔ∏è</span>
                <span class="nav-text">Policy Simulation</span>
            </a>
            <a href="#route" class="nav-item" data-page="route">
                <span class="nav-icon">üó∫Ô∏è</span>
                <span class="nav-text">Route Planner</span>
            </a>
            <a href="#analytics" class="nav-item" data-page="analytics">
                <span class="nav-icon">üìâ</span>
                <span class="nav-text">Analytics</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <div class="live-aqi-widget">
                <div class="live-aqi-label">Live AQI</div>
                <div class="live-aqi-value" id="sidebar-aqi">--</div>
                <div class="live-aqi-category" id="sidebar-category">Loading...</div>
            </div>
        </div>
    </aside>

    <!-- Main Content Area -->
    <div class="main-wrapper">
        <!-- Top Header Bar -->
        <header class="topbar">
            <div class="topbar-left">
                <button class="menu-toggle" id="menuToggle">‚ò∞</button>
                <h1 class="page-title" id="pageTitle">Dashboard</h1>
            </div>
            <div class="topbar-right">
                <button class="theme-toggle" id="themeToggle">üåô</button>
            </div>
        </header>

        <!-- Global Alert Banner -->
        <div class="global-alert-banner" id="globalAlertBanner" style="display: none;">
            <div class="alert-content">
                <span class="alert-icon" id="globalAlertIcon">üö®</span>
                <span class="alert-message" id="globalAlertMessage"></span>
                <button class="alert-close" id="closeAlert">‚úï</button>
            </div>
        </div>

        <!-- Page Content -->
        <main class="content" id="mainContent">
            <!-- DASHBOARD PAGE -->
            <div class="page active" id="dashboard-page">
                <!-- Current Metrics Grid -->
                <section class="metrics-grid">
                    <!-- AQI Card -->
                    <div class="metric-card aqi-card" id="aqiCard">
                        <div class="metric-header">
                            <span class="metric-icon">üå¨Ô∏è</span>
                            <span class="metric-label">AQI</span>
                        </div>
                        <div class="metric-value" id="currentAQI">--</div>
                        <div class="metric-status" id="aqiStatus">Loading...</div>
                        <div class="metric-footer">
                            <span id="aqiTime">--</span>
                        </div>
                    </div>

                    <!-- PM2.5 Card -->
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-icon">üò∑</span>
                            <span class="metric-label">PM2.5</span>
                        </div>
                        <div class="metric-value small" id="pm25Value">--</div>
                        <div class="metric-unit">Œºg/m¬≥</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="pm25Progress"></div>
                        </div>
                    </div>

                    <!-- PM10 Card -->
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-icon">üå™Ô∏è</span>
                            <span class="metric-label">PM10</span>
                        </div>
                        <div class="metric-value small" id="pm10Value">--</div>
                        <div class="metric-unit">Œºg/m¬≥</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="pm10Progress"></div>
                        </div>
                    </div>

                    <!-- Humidity Card -->
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-icon">üíß</span>
                            <span class="metric-label">Humidity</span>
                        </div>
                        <div class="metric-value small" id="humidityValue">--</div>
                        <div class="metric-unit">%</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="humidityProgress"></div>
                        </div>
                    </div>

                    <!-- Temperature Card -->
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-icon">üå°Ô∏è</span>
                            <span class="metric-label">Temperature</span>
                        </div>
                        <div class="metric-value small" id="tempValue">--</div>
                        <div class="metric-unit">¬∞C</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="tempProgress"></div>
                        </div>
                    </div>

                    <!-- Visibility Card -->
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-icon">üëÅÔ∏è</span>
                            <span class="metric-label">Visibility</span>
                        </div>
                        <div class="metric-value small" id="visibilityValue">--</div>
                        <div class="metric-unit">km</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="visibilityProgress"></div>
                        </div>
                    </div>
                </section>



                <!-- Forecast Section -->


                <!-- Live AQI Widget -->
                <section class="dashboard-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h2>üåç Live Air Quality Map - Delhi</h2>
                        </div>
                        <div class="widget-container"
                            style="height: 500px; overflow: hidden; position: relative; border-radius: var(--radius-lg);">
                            <iframe width="650" height="900" src="https://aqicn.org/city/delhi/embed/"
                                style="border:none; width:180%; height:900px; position:absolute; top:-80px; left:-40%;"
                                scrolling="no">
                            </iframe>
                        </div>
                    </div>
                </section>

                <!-- Historical Trends Section -->


                <!-- Health Recommendations Section -->
                <section class="dashboard-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h2>üè• Health Recommendations</h2>
                        </div>
                        <div class="recommendations-grid" id="healthRecommendations">
                            <!-- Recommendations will be populated by JS -->
                        </div>
                    </div>
                </section>

                <!-- Pollution Sources Section -->
                <section class="dashboard-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h2>üîç Pollution Sources</h2>
                        </div>
                        <div class="sources-grid">
                            <div class="sources-chart">
                                <canvas id="sourcesChart"></canvas>
                            </div>
                            <div class="sources-list" id="sourcesList">
                                <!-- Sources list will be populated by JS -->
                            </div>
                        </div>
                    </div>
                </section>
            </div>



            <!-- FORECASTING PAGE -->
            <div class="page" id="forecasting-page">
                <section class="dashboard-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h2>üìà Extended Forecast</h2>
                            <div class="forecast-options">
                                <button class="filter-btn active" data-forecast="hourly">Hourly</button>
                                <button class="filter-btn" data-forecast="daily">Daily (7 days)</button>
                                <button class="filter-btn" data-forecast="extended">Extended (14 days)</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="forecastChart"></canvas>
                        </div>
                    </div>
                </section>

                <section class="dashboard-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h2>üå¶Ô∏è Weather Impact Analysis</h2>
                        </div>
                        <div class="weather-grid" id="weatherGrid">
                            <!-- Weather cards will be populated by JS -->
                        </div>
                    </div>
                </section>

                <section class="dashboard-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h2>üìä Trend Prediction</h2>
                        </div>
                        <div class="prediction-details" id="predictionDetails">
                            <!-- Prediction details will be populated by JS -->
                        </div>
                    </div>
                </section>
            </div>

            <!-- HEALTH INSIGHTS PAGE -->
            <div class="page" id="health-page">
                <!-- Daily Health Forecast Section -->
                <section class="dashboard-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h2>üìÖ Daily Health Forecast</h2>
                            <span class="forecast-update-time" id="forecastUpdateTime"></span>
                        </div>
                        <div class="daily-forecast-container" id="dailyHealthForecast">
                            <!-- Forecast will be dynamically populated by JS -->
                        </div>
                    </div>
                </section>

                <!-- Group-Specific Recommendations -->
                <section class="dashboard-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h2>üë• Group-Specific Recommendations</h2>
                        </div>
                        <div class="health-groups-grid">
                            <div class="health-group-card">
                                <div class="group-icon">üë∂</div>
                                <h3>For Children</h3>
                                <div class="group-recommendations" id="childrenAdvice"></div>
                            </div>
                            <div class="health-group-card">
                                <div class="group-icon">üë¥</div>
                                <h3>For Elderly</h3>
                                <div class="group-recommendations" id="elderlyAdvice"></div>
                            </div>
                            <div class="health-group-card">
                                <div class="group-icon">üè•</div>
                                <h3>For Patients</h3>
                                <div class="group-recommendations" id="patientsAdvice"></div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Air Quality Health Index -->
                <section class="dashboard-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h2>üìä Air Quality Health Index</h2>
                        </div>
                        <div class="health-index-display" id="healthIndex">
                            <!-- Health index visualization will be populated by JS -->
                        </div>
                    </div>
                </section>
            </div>

            <!-- ROUTE PLANNER PAGE -->
            <div class="page" id="route-page">
                <!-- Page Header -->
                <div class="policy-header">
                    <h1>Pollution Route Planner</h1>
                    <p class="policy-subtitle">Plan your journey through Delhi-NCR while avoiding pollution hotspots for
                        a safer commute.</p>
                </div>

                <div class="route-grid">
                    <!-- Controls Panel -->
                    <div class="section-card route-controls">
                        <div class="section-header">
                            <h2>Journey Details</h2>
                        </div>

                        <div class="input-group">
                            <label>Start Location</label>
                            <select id="startLocation" class="route-select">
                                <option value="delhi" selected>Central Delhi (ITO)</option>
                                <option value="dwarka">Dwarka</option>
                                <option value="rohini">Rohini</option>
                                <option value="noida">Noida</option>
                                <option value="gurgaon">Gurugram</option>
                                <option value="ghaziabad">Ghaziabad</option>
                                <option value="faridabad">Faridabad</option>
                                <option value="greater_noida">Greater Noida</option>
                                <option value="anand_vihar">Anand Vihar</option>
                            </select>
                        </div>

                        <div class="input-group">
                            <label>Destination</label>
                            <select id="endLocation" class="route-select">
                                <option value="dwarka" selected>Dwarka</option>
                                <option value="delhi">Central Delhi (ITO)</option>
                                <option value="rohini">Rohini</option>
                                <option value="noida">Noida</option>
                                <option value="gurgaon">Gurugram</option>
                                <option value="ghaziabad">Ghaziabad</option>
                                <option value="faridabad">Faridabad</option>
                                <option value="greater_noida">Greater Noida</option>
                                <option value="anand_vihar">Anand Vihar</option>
                            </select>
                        </div>

                        <div class="route-btn-group">
                            <button id="btnCalculateRoute" class="btn-plan">Find Safe Route</button>
                            <button id="btnResetRoute" class="btn-reset">Reset</button>
                        </div>

                        <div id="routeLoading" class="route-loading">
                            <div class="loading-spinner"></div>
                            <p>Calculating optimal path based on real-time AQI...</p>
                        </div>
                    </div>

                    <!-- Results Panel -->
                    <div id="routeResults" class="route-viz-container">
                        <!-- Visualization -->
                        <div class="route-diagram-card">
                            <h3 style="margin-bottom: 1.5rem;">Route Visualization</h3>
                            <div id="routePathDisplay" class="route-path">
                                <!-- Populated by JS -->
                            </div>
                        </div>

                        <!-- Route Comparison -->
                        <div class="comparison-grid">
                            <div class="route-option-card clean">
                                <div class="route-option-header">
                                    <span>üåø</span>
                                    <h3>Clean Route (Recommended)</h3>
                                </div>
                                <div class="stats-grid">
                                    <div class="stat-item">
                                        <div id="cleanDistance" class="stat-value">-</div>
                                        <div class="stat-label">Distance</div>
                                    </div>
                                    <div class="stat-item">
                                        <div id="cleanTime" class="stat-value">-</div>
                                        <div class="stat-label">Time</div>
                                    </div>
                                    <div class="stat-item">
                                        <div id="cleanVisibility" class="stat-value">-</div>
                                        <div class="stat-label">Visibility</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value" style="color: #059669">0</div>
                                        <div class="stat-label">Hazard Zones</div>
                                    </div>
                                </div>
                            </div>

                            <div class="route-option-card direct">
                                <div class="route-option-header">
                                    <span>üöó</span>
                                    <h3>Direct Route</h3>
                                </div>
                                <div class="stats-grid">
                                    <div class="stat-item">
                                        <div id="directDistance" class="stat-value">-</div>
                                        <div class="stat-label">Distance</div>
                                    </div>
                                    <div class="stat-item">
                                        <div id="directTime" class="stat-value">-</div>
                                        <div class="stat-label">Time</div>
                                    </div>
                                    <div class="stat-item">
                                        <div id="directVisibility" class="stat-value">-</div>
                                        <div class="stat-label">Visibility</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value">3</div>
                                        <div class="stat-label">Hazard Zones</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Pollution Zones -->
                        <div class="section-card">
                            <div class="section-header">
                                <h2>‚ö†Ô∏è Pollution Hotspots to Avoid</h2>
                            </div>
                            <div id="hazardZonesgrid" class="hazard-zones-grid">
                                <!-- Populated by JS -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- POLICY SIMULATION PAGE -->
            <div class="page" id="policy-page">
                <!-- Page Header -->
                <div class="policy-header">
                    <h1>Policy Simulator</h1>
                    <p class="policy-subtitle">Test the impact of various pollution control measures using our AI model.
                    </p>
                </div>

                <!-- Main Grid Layout -->
                <div class="policy-simulator-grid">
                    <!-- Left Panel - Parameters -->
                    <div class="parameters-panel">
                        <div class="section-card">
                            <div class="section-header">
                                <h2>Parameters</h2>
                                <button class="reset-icon" id="resetPolicySimulator" title="Reset all parameters">
                                    <span>‚Üª</span>
                                </button>
                            </div>

                            <!-- Traffic Reduction Slider -->
                            <div class="parameter-control">
                                <div class="parameter-label-row">
                                    <label for="trafficSlider">Traffic Reduction</label>
                                    <span class="parameter-value" id="trafficValue">38%</span>
                                </div>
                                <input type="range" id="trafficSlider" class="policy-slider" min="0" max="100"
                                    value="38">
                            </div>

                            <!-- Industrial Shutdown Slider -->
                            <div class="parameter-control">
                                <div class="parameter-label-row">
                                    <label for="industrialSlider">Industrial Shutdown</label>
                                    <span class="parameter-value" id="industrialValue">88%</span>
                                </div>
                                <input type="range" id="industrialSlider" class="policy-slider" min="0" max="100"
                                    value="88">
                            </div>

                            <!-- Construction Ban Toggle -->
                            <div class="parameter-control toggle-control">
                                <div class="toggle-info">
                                    <label for="constructionToggle" class="toggle-label">Construction Ban</label>
                                    <p class="toggle-description">Halt all sites > 500sqm</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="constructionToggle">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <!-- Odd-Even Scheme Toggle -->
                            <div class="parameter-control toggle-control">
                                <div class="toggle-info">
                                    <label for="oddEvenToggle" class="toggle-label">Odd-Even Scheme</label>
                                    <p class="toggle-description">Restrict cars by plate number</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="oddEvenToggle">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <!-- Run Simulation Button -->
                            <button class="btn-run-simulation" id="runPolicySimulation">
                                <span>‚ñ∂</span> Run Simulation
                            </button>
                        </div>
                    </div>

                    <!-- Right Panel - Results -->
                    <div class="results-panel">
                        <!-- Baseline and Projected AQI Cards -->
                        <div class="aqi-cards-row">
                            <div class="baseline-aqi-card">
                                <div class="aqi-label">CURRENT BASELINE AQI</div>
                                <div class="aqi-value" id="baselineAqiValue">320</div>
                            </div>
                            <div class="projected-aqi-card">
                                <div class="aqi-label">PROJECTED AQI</div>
                                <div class="aqi-value" id="projectedAqiValue">134</div>
                                <div class="improvement-badge" id="improvementBadge">‚Üì 58% Improvement</div>
                            </div>
                        </div>

                        <!-- Impact Analysis -->
                        <div class="section-card impact-analysis-card">
                            <h3>Impact Analysis</h3>
                            <p class="impact-text" id="impactAnalysisText">
                                Based on the current meteorological conditions (low wind speed, high humidity), the
                                selected
                                measures would reduce the PM2.5 concentration significantly. The <strong>Traffic
                                    Reduction</strong> parameter
                                has the highest leverage in this scenario.
                            </p>
                            <div class="key-sources-section">
                                <h4>Key Sources Affected:</h4>
                                <div class="source-badges">
                                    <span class="source-badge">Vehicular Emissions</span>
                                    <span class="source-badge">Construction Dust</span>
                                    <span class="source-badge">Industrial Waste</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ANALYTICS PAGE -->
            <div class="page" id="analytics-page">


                <section class="dashboard-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h2>üéØ Source Attribution</h2>
                        </div>
                        <div class="attribution-chart-container">
                            <canvas id="attributionChart"></canvas>
                        </div>
                        <div class="attribution-details" id="attributionDetails">
                            <!-- Source attribution details will be populated by JS -->
                        </div>
                    </div>
                </section>






            </div>
        </main>
    </div>

    <!-- Scripts -->
    <!-- API Configuration (Load First!) -->
    <script src="js/config.js"></script>
    <script src="js/dual-api-integration.js"></script>

    <!-- Core Engines -->
    <script src="js/data-generator.js"></script>
    <script src="js/pollution-engine.js"></script>
    <script src="js/policy-simulator.js"></script>
    <script src="js/aqi-forecaster.js"></script>
    <script src="js/forecast-backend-client.js"></script>
    <script src="js/risk-detector.js"></script>
    <script src="js/health-advisor.js"></script>

    <!-- New Feature Modules -->
    <script src="js/route-optimizer.js"></script>
    <script src="js/route-planner.js"></script>
    <script src="js/source-visualizer.js"></script>
    <script src="js/policy-dashboard.js"></script>
    <script src="js/policy-simulator.js"></script>
    <script src="js/global-alert.js"></script>

    <!-- UI Components -->
    <script src="js/ui-components.js"></script>
    <script src="js/visualizations.js"></script>

    <!-- API & Charts -->
    <script src="js/api.js"></script>
    <script src="js/charts.js"></script>

    <!-- Page Controllers -->
    <script src="js/dashboard.js"></script>
    <script src="js/health.js"></script>
    <script src="js/analytics.js"></script>

    <!-- Main App -->
    <script src="js/app.js"></script>
</body>

</html>